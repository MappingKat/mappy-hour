<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="author" content="Katrina Engelsted, Mamata Akella">
    <meta name="description" content="An introduction to web mapping for Denver Start up Week">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="icon" type="image/x-icon" href="img/favicon.ico">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css" rel="stylesheet">
    <link href="css/reveal.css" rel="stylesheet">
    <link href="css/theme/green.css" id="theme" rel="stylesheet">
    <link href="lib/css/zenburn.css" rel="stylesheet">
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
    <title>Mappy Hour: A dive into mapping tools & libraries</title>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
         <img src="img/first.png" style="height:700px"/>
        </section>
        <section>
          <h2 class="highlight">Your presenters</h2>
          <div class="pull-left">
            <img src="img/katrina.png" style="height:200px;width:200px;">
            <p><a target="_blank" href="http://twitter.com/katrography">@katrography</a></p>
            <p><a target="_blank" href="http://www.fulcrumapp.com">http://www.fulcrumapp.com/</a></p>
          </div>
          <div class="pull-right">
            <img src="img/mamata.png" style="height:200px;width:200px;">
            <p><a target="_blank" href="twitter.com/mamataakella">@mamataakella</a></p>
            <p><a target="_blank" href="http://www.fulcrumapp.com/">https://cartodb.com/</a></p>
          </div>
          <p style="font-size:24px;margin-top:10px">~Outline can be found on the <a href="https://github.com/MappingKat/mappy-hour/wiki/Outline">repo wiki</a>~</p>
        </section>
        <section>
          <iframe src="iframes/road.html" style="margin:0;padding:0;width:100%;height:100px"></iframe>
          <ul>
            <li>Web Maps 101</li>
            <li>
              <img style="width:500px;height:auto;" src="img/fulcrum-carto.png">
            </li>
          <ul>
        </section>
        <section>
          <h2>What are <span class="yellow">web maps</span>?
            <iframe src="//giphy.com/embed/6J9EYB2Z27Qg8" width="680" height="470" frameBorder="0" class="giphy-embed" allowFullScreen></iframe><p><a target="_blank" class="attribution" href="http://giphy.com/gifs/shocked-george-clooney-6J9EYB2Z27Qg8">Giphy</a></p>
        </section>
        <section>
          <h4>Great map, but...</h4>
          <img src="img/beer-map.jpg">
          <h4>not a Web Map...</h4>
        </section>
        <section>
          <img src="img/nytimes-denver.jpg"><br>
          <a target="_blank" class="none" href="http://www.nytimes.com/interactive/2015/07/08/us/census-race-map.html?_r=1">NY Times Mapping Segregation</a>
        </section>
        <section>
          <iframe src="http://www.nps.gov/maps/embed.html?mapId=a1091660-898e-4479-8837-f50d3ede9650"></iframe>
        </section>
        <section>
          <h2>Web maps have these common elements:</h2>
          <ul>
            <li class="red">A map</li> <!-- The actual map -->
            <li class="orange">Functionality to interact with the map</li> <!-- Map controls and behaviors: zoom, pan, search, query, etc. -->
            <li class="yellow">A user interface</li> <!-- The container that holds the map -->
          </ul>
        </section>
        <section>
          <a target="_blank" href="//phindee.com">Happy Hour in Portland, OR!!</a>
          <img src="img/happy-hour.png">
        </section>
        <section>
          <h2><span class="highlight">Who</span> was involved in creating web maps?</h2>
          <p>Let's travel back to 1990s...</p>
          <img src="img/1990s.png" style="height:350px">
        </section>
        <section>
          <h2>In <span class="highlight">1996</span>, MapQuest introduced the first popular web map</h2>
        </section>
        <section>
          <h2 style="background-color:purple;color:white;margin-top:20px;padding:15px;">MapQuest</h2>
          <img src="img/mapquest.png">
        </section>
        <section>
          <h2>It was like a <span class="emphasis">road map</span> and <span class="emphasis">yellow pages</span> combined. Its primary purpose was to find places and get directions.</h2>
        </section>
        <section>
          <h2 style="background-color:purple;color:white;margin-top:20px;padding:15px;">Yahoo</h2>
          <img src="img/yahoo.jpg">
        </section>
        <section>
          <h2>In <span class="highlight">2005</span>, Google released their version of the web map</h2>
        </section>
        <section>
          <!-- In 2005, Google introduced slippy maps,  -->
          <h2 style="background-color:purple;color:white;margin-top:20px;padding:15px;">Google</h2>
          <img src="img/google.png">
        </section>
        <section>
          <h2>Google Maps became more popular than MapQuest because the maps were <span class="highlight">faster</span></h2>
        </section>
        <!-- We should mention here that MapQuest also used tiles but their tiling scheme was not as efficient as Google's and with every pan and zoom on the map, the page had to be refreshed -->
        <section>
          <h2>The maps were faster because of Google's use of <span class ="highlight">map tiles</span></h2>
        </section>
        <section>
          <h2>And Google also made its technologies available to developers through an <span class="highlight">API</span></h2>
        </section>
        <section data-background="img/first-mashup.jpg"></section>
        <section>
          <h2>Fast Forward to Today...</h2>
          <img src="img/today.jpg" style="height:450px">
        </section>
        <section style="margin:0;">
            <img src="img/companies.png" style="height:600px;">
        </section>
        <section>
          <h3>Open source tools and libraries are gaining popularity</h3>
          <br><span class="clouditem" style="font-size: 56.10265141818672%; color: rgb(150, 76, 179);">    Leaflet</span> <span class="clouditem" style="font-size: 83.60962371807545%; color: rgb(179, 93, 76);">    CartoDB</span> <span class="clouditem" style="font-size: 63.66907241288573%; color: rgb(76, 97, 179);">    Mapbox</span> <span class="clouditem" style="font-size: 98.66739843040705%; color: rgb(76, 145, 179);">    GitHub</span> <span class="clouditem" style="font-size: 98.30495120491832%; color: rgb(179, 90, 76);">    KML</span> <span class="clouditem" style="font-size: 93.73538852203637%; color: rgb(143, 76, 179);">    GeoJSON</span> <span class="clouditem" style="font-size: 49.88388252444565%; color: rgb(107, 179, 76);">    CSV</span> <span class="clouditem" style="font-size: 86.96960015688092%; color: rgb(76, 179, 167);">    WMS</span> <span class="clouditem" style="font-size: 95.18062303308398%; color: rgb(76, 179, 160);">    Tiled</span> </span> <span class="clouditem" style="font-size: 55.7243404071778%; color: rgb(76, 179, 134);">    OpenStreetMap</span> <span class="clouditem" style="font-size: 76.9069387484342%; color: rgb(179, 76, 114);">    Vector Tiles</span> <span class="clouditem" style="font-size: 65.42575665283948%; color: rgb(163, 76, 179);">    UTFGrid</span> <span class="clouditem" style="font-size: 48.2439872669056%; color: rgb(76, 179, 78);">    JavaScript</span> <span class="clouditem" style="font-size: 84.3598467297852%; color: rgb(76, 179, 117);">    HTML</span> <span class="clouditem" style="font-size: 57.32739641796798%; color: rgb(138, 76, 179);">    CSS</span> <span class="clouditem" style="font-size: 77.55439032334834%; color: rgb(165, 76, 179);">    Node.js</span> <span class="clouditem" style="font-size: 49.08941294066608%; color: rgb(157, 179, 76);">    Grunt</span> <span class="clouditem" style="font-size: 67.53705204464495%; color: rgb(76, 134, 179);">    MapQuest</span></span> <span class="clouditem" style="font-size: 93.0041212681681%; color: rgb(126, 179, 76);">    ExtJS</span> <span class="clouditem" style="font-size: 61.27999428194016%; color: rgb(174, 179, 76);">    PostgreSQL</span> <span class="clouditem" style="font-size: 87.0986875705421%; color: rgb(76, 102, 179);">    PostGIS</span> <span class="clouditem" style="font-size: 42.29869320522994%; color: rgb(76, 179, 157);">    SQL Server</span> <span class="clouditem" style="font-size: 64.81037794146687%; color: rgb(127, 76, 179);"></span> <span class="clouditem" style="font-size: 61.09244556631893%; color: rgb(76, 179, 109);">    Bootstrap</span> <span class="clouditem" style="font-size: 46.32043632213026%; color: rgb(175, 76, 179);">    TileMill</span> <span class="clouditem" style="font-size: 58.61324864905328%; color: rgb(76, 179, 131);">    QGIS</span> <span class="clouditem" style="font-size: 73.15360988955945%; color: rgb(179, 76, 139);">    Maki</span> <span class="clouditem" style="font-size: 96.9772030506283%; color: rgb(179, 76, 85);">    Heroku</span> <span class="clouditem" style="font-size: 90.83041932433844%; color: rgb(76, 179, 121);">    EC2</span> <span class="clouditem" style="font-size: 93.002316839993%; color: rgb(179, 97, 76);">    S3</span> <span class="clouditem" style="font-size: 52.51278991345316%; color: rgb(179, 76, 163);">    Zoomify</span> <span class="clouditem" style="font-size: 40.31181874219328%; color: rgb(179, 76, 124);">    jQuery</span> <span class="clouditem" style="font-size: 72.5516069913283%; color: rgb(179, 170, 76);">    Jasmine</span> <span class="clouditem" style="font-size: 61.32711669895798%; color: rgb(76, 179, 155);">    GDAL</span>
        </section>
        <section>
          <h2>Web map components</h2>
          <img style="text-align:center;" src="img/data.png">
        </section>
        <section>
          <img src="img/map.png">
        </section>
        <section>
          <h2 class="highlight">Basemap</h2>
          <h3>A map that provides geographic context to help support a wide variety of overlays- typically raster tiles.</h3>
        </section>
        <section>
          <h2>Basemaps are <span class="highlight">Tiles</span></h2>
          <iframe src="iframes/unfold.html"></iframe>
        </section>
        <section>
          <h2 class="highlight">Map Tiles</h2>
          <h3>Pre-rendered images (tiles) that fit seamlessly together in geographic space in order to make maps load quickly.</h3>
        </section>
           <!-- If you've ever been on a slower internet connection, you can actually see the tiles loading in the map -->
        <section>
          <h3>Map tiles are 256x256 pixels and organized based on coordinates (x,y) and zoom levels (z).</h3>
          <img src="img/tiles.png">
        </section>
        <section>
          <h3 class="highlight">Zoom Level</h3>
          <h4>Defines the scale of the current map view. Ranges from 0 (entire world) to 21 (individual building level).</h4>
          <img src="img/zoom-levels.png">
        </section>
        <section>
          <iframe src="http://bl.ocks.org/anonymous/raw/2def3176d6a3cdea278a/" style="height:590px;width:707px;"></iframe>
        </section>
        <section>
          <img src="img/tile-url.png" style="height:450px">
          <p>http://<span class="red">tile.openstreetmap.org</span>/<span class="green">17</span>/<span class="yellow">27306</span>/<span class="yellow">49738</span>.<span class="blue">png</span></p>
          <p><span class="red">tile server</span><span class="green">&nbsp;&nbsp;zoom level</span><span class="yellow">&nbsp;&nbsp;x/y of tile in the grid</span>
          <p class="blue">image format of the tile</p>
        </section>
        <section data-background="img/watercolor.jpg" style="color:#000;">
          <p style="background:#FFF">Basemaps are available from many sources:</p>
          <ul style="background:#FFF;padding-left:10px">
            <li><b>Free:</b> OSM, Stamen, Mapbox, CartoDB</li>
            <li><b>Paid:</b> Google, Bing, Noki/Here, ESRI</li>
            <li><b>Custom:</b> Mapbox, ESRI</li>
          </ul>
        </section>
        <section>
          <img src="img/osm-preview.png">Openstreetmap.org
        </section>
        <section>
          <img src="img/mapquest-update.png">Mapquest.com
        </section>
        <section>
          <img src="img/pinterest.png">Pinterest.com
        </section>
        <section>
          <iframe src="http://www.nps.gov/maps/embed.html?mapId=f93c526b-029d-4b5e-b9f5-0cfcc9eb8d5d"></iframe>
          <a href="http://www.nps.gov/npmap/tools/park-tiles/">Park Tiles</a>
        </section>
        <section>
          <img src="img/map-interaction.png">
        </section>
        <section>
          <h2 class="highlight">Overlays</h2>
          <h3>Themes of information, typically vector, overlaid on a basemap that help tell a story.</h3>
        </section>
        <section>
          <h2><span class="yellow">Data</span> + <span class="pink">Location</span> + <span class="orange">geometry</span> = Geospatial data</h2>
        </section>
        <section data-background="img/formats.png">
          <h2 style="color:white;background:orange">There are a variety of data formats for overlays</h2>
        </section>
        <section>
          <h2>GeoJSON</h2>
          <pre>
            <code>
            {
            "type": "FeatureCollection",
            "features": [
              {
                "type": "Feature",
                "geometry": {
                  "type": "Point",
                  "coordinates": [
                    -104.987825,
                    39.7414659
                  ]
                },
                "properties": {
                  "name": "Modworks Coworking",
                  "address": "110 16th St #1300, Denver, CO 80202",
                  "site": "http://www.modworks.com/"
                }
              },
              {
                "type": "Feature",
                "geometry": {
                  "type": "Point",
                  "coordinates": [
                    -104.986191,
                    39.7589209
                  ]
                },
                "properties": {
                  "name": "Green Spaces",
                  "address": "1368 26th St, Denver, CO 80205",
                  "site": "http://www.greenspaces.com/"
                }
              }
            }
          </code></pre>
        </section>
        <section>
          <img src="img/basemap-overlay.png">
        </section>
        <section>
          <h2>JavaScript libraries!</h2>
          <img src="img/jabbascript.png" style="height:300px;">
        </section>
        <section>
          <h2 class="highlight">Leaflet</h2>
            <h3>A modern open-source JavaScript library for mobile-friendly, interactive web maps.</h3>
          <pre><code>var map = L.map('map', { center: [12.99766, -84.90838], zoom: 5 });
          </code></pre>
        </section>
        <!-- <section>
          <h4>Overview</h4>
          <ul>
            <li>Has all of the features that most developers need to create web maps</li>
            <li>Works seamlessly across all major desktop and mobile platforms</li>
            <li>Designed with performance and usability in mind</li>
          </ul>
        </section> -->
        <section data-background="img/plugins.png" style="width:1100px">
          <h2 style="background-color:green;color:white;margin-top:20px;padding:15px;">Leaflet Plugins</h2>
        </section>
        <section>
          cartoDB.js
          <pre><code>var map = new L.Map('map_canvas', { center: [0,0], zoom: 2 });
          </code></pre>
          mapbox.js
          <pre><code>L.mapbox.accessToken = 'Access Token';
          var map = L.mapbox.map('map', 'mapbox.streets').setView([40, -74.50], 9);
          </code></pre>
          npmap.js
          <pre><code>var NPMap = { center: { lat: 39.37, lng: -105.7}, div: 'map'};
          </code></pre>
        </section>
        <section>
          <iframe src="http://bl.ocks.org/MappingKat/efc18d8b5193c8561b92" style="background-color:#FFF"></iframe>
        </section>
        <section>
          <iframe src="http://bl.ocks.org/wboykinm/raw/b90873f4015fd8a8759e/"></iframe>
        </section>
        <section>
          <img src="img/map-interface.png">
        </section>
        <section data-background="img/bootleaf.png">
           <h2 style="background-color:green;color:white;margin-top:20px;padding:15px;">Bootleaf</h2>
        </section>
        <section>
          <h2>The future is exciting...</h2>
        </section>
        <section>
          <h3>... we now have <span class="orange">vector tiles</span></h3>
          <img src="img/kitchen-tiles.png">
        </section>
        <section>
          <iframe src="http://coolmaps.esri.com/VectorTiles/"></iframe>
        </section>
        <section>
          <img src="img/d3.png"/>
        </section>
        <section>
          <h4>How do I get started?</h4>
          <iframe src="//giphy.com/embed/mPytjcsG3XS4o" width="380" height="197" frameBorder="0" class="giphy-embed" allowFullScreen></iframe><p><a target="_blank" href="http://giphy.com/gifs/confused-lost-disney-mPytjcsG3XS4o" class="attribution">giphy</a></p>
        </section>
        <section>
          <h2>Planning a web map</h2>
          <ul style="font-size:36px">
            <li class="orange">What is the purpose of the map?</li>
            <li class="blue">Where can I get the data?</li>
            <li class="pink">Will the map be queried for additional information?</li>
            <li class="purple">Will the map be viewed on multiple devices?</li>
          </ul>
        </section>
        <section>
          <img src="img/sas-platform.png">
        </section>
        <section>
          <img src="img/nps.svg">
          <br>
          <p>Custom Stack:</p>
          <a target="_blank" href="//github.com/nationalparkservice" style="color:#000">www.github.com/nationalparkservice</a>
          <!-- park service-- custom mapping tool -->
          <!-- highly custom webmaps -->
        </section>
        <section>
          <iframe src="http://mappingkat.github.io/indian-removal/"></iframe>
        </section>
        <section>
          <img src="img/fulcrum-carto.png" style="width:700px;height:auto;">
        </section>
        <section>
          <iframe src="https://team.cartodb.com/u/mamataakella/viz/a23ea514-624e-11e5-bcfb-0e853d047bba/embed_map"></iframe>
        </section>
        <section>
          <img src="img/data-options.png" style="width:800px;height:auto;">
        </section>
        <section>
          <img src="img/fulcrum-data-collection.png" style="bottom:0;left:0;">
        </section>
         <section>
          <h2>There are a range of industries that need data collection...</h2>
          <img src="img/fields.jpg">
        </section>
        <section>
          <h2>Invasive Species</h2>
          <img src="img/fulcrum-invasive.jpg" style="width:800px;height:auto;">
        </section>
        <section>
          <h2>Bike Theft</h2>
          <img src="img/fulcrum-bike.png">
        </section>
        <section>
          <h2>Why use Fulcrum?</h2>
        </section>
        <section>
          <h2>Work Offline</h2>
          <img src="img/fulcrum-offline.png">
        </section>
        <section>
          <h2>Link Records, or Lookup Tables</h2>
          <img src="img/fulcrum-record-linking.png">
        </section>
         <section>
          <h2>Use Calculated Fields</h2>
          <img src="img/fulcrum-calculating.jpg">
        </section>
        <section>
          <h2>Real Time Data via Webhooks</h2>
          <img src="img/fulcrum-webhooks.png" >
        </section>
        <section>
          <h2>Integration with a variety of tools</h2>
          <img src="img/fulcrum-integrations.png" style="height:170px;width:1000px">
        </section>
        <section>
          <p>For example, We use Zapier to sync Fulcrum app with Slack</p>
          <img src="img/fulcrum-geobooze.png" style="height:600px;width:1100px">
        </section>
        <section>
          <img src="img/cartodb-logo.png">
        </section>
        <section>
          <h2>Why use CartoDB?</h2>
        </section>
        <section>
          <h3>Using CartoDB you can:</h3>
          <ul style="font-size:36px">
            <li class="red">easily overlay data onto a map</li>
            <li class="orange">analyze the data to reveal spatial patterns</li>
            <li class="yellow">tell stories by creating beautiful visualizations</li>
            <li class="green">and then easily share them with the world!</li>
          </ul>
        </section>
        <section>
           <img src="img/cartodb-maps.png">
        </section>
        <section>
          <h2>CartoDB combines:</h2>
          <ul style="font-size:36px">
            <li class="pink">the power of PostGIS and SQL</li>
            <li class="purple">CartoCSS for map styling</li>
            <li class="blue">Mapnik for tile rendering</li>
            <li class="yellow">Leaflet for the viewing interface</li>
          </ul>
        </section>
        <section>
          <h2>These technologies are all packaged into one easy-to-use online interface.</h2>
        </section>
        <section>
           <h2>Demo with <a href="http://www.fulcrumapp.com/blog/webhooks-update-cartodb/">Fulcrum and CartoDB</a> integration</h2>
        </section>
        <section>
          <h3>Ok! Let's start building the map!</h3>
          <ul style="font-size:26px">
            <li>First, we collected co-working spaces and breweries in Fulcrum</li>
            <li>Then grab Denver neighborhood polygons and transportation stops (B-cycle stations, light rail and bus stops) from online</li>
            <li>Then we counted how many of these amenities (co-working spaces, breweries, transportation stops) were in each neighborhood</li>
            <li>Lastly, we customized the map and styled accordingly</li>
          </ul>
        </section>
        <section>
          <img src="img/fulcrum-web-1.jpg" style="width:800px;height:auto;">
        </section>
        <section>
          <img src="img/fulcrum-web.jpg" style="width:800px;height:auto;">
        </section>
        <section>
          <img src="img/fulcrum-app.png" style="width:800px;height:auto;">
        </section>
         <section>
          <img src="img/import.png" style="width:800px;height:auto;">
        </section>
         <section>
          <img src="img/data-share.png" style="width:800px;height:auto;">
        </section>
         <section>
          <img src="img/paste-link.png" style="width:800px;height:auto;">
        </section>
        <section>
          <h1>Next, we followed the same steps for Denver breweries (collecting in Fulcrum and linking with data shares in CartoDB.</h1>
          <p>Then, we grabbed neighborhood polygons and transportation points from <a href="http://data.denvergov.org/">Denver gov</a> and added those to CartoDB.</p></h1>
        </section>
        <section>
          <h2><span class="red">Spatial Join</span> between Denver Neighborhoods and co-working spaces</h2>
        </section>
        <section>
          <h3>Add numeric column and count the number of features in each neighborhood</h3>
          <pre><code>
          UPDATE 
           denver_neighborhoods
          SET 
           busstops_count = (SELECT count(*)
          FROM 
           busstops 
          WHERE 
           ST_Intersects(busstops.the_geom,denver_neighborhoods.the_geom))
          </pre></code>
        </section>
        <section>
          <h3>Add a total_count field and sum all of the values to one field (to style the labels)</h3>
          <pre><code>
          UPDATE 
           denver_neighborhoods_with_counts
          SET 
           total_count =(bcycle_count+breweries_count+lightrail_count+busstops_count)
           </pre></code>
        </section>
        <section>
          <h3>Change basemap</h3>
          <img src="img/cartodb-basemap.png">
        </section>
        <section>
          <h3>Style the points</h3>
          <img src="img/cartodb-cartocss.png">
        </section>
        <section>
          <h3>Style the popups</h3>
          <img src="img/cartodb-popup.png">
        </section>
        <section>
          <h3>Pop-up content</h3>
          <p>Color for co-working labels</p>
          <pre><code>
            &lt;h2&gt; style="color:#ECBE13">{{name}}&lt;/h2&gt;
          </pre></code>
          <p>Color for neighborhood labels</p>
          <pre><code>
            &lt;h2&gt; style="color: #738C79;">{{nbhd_name}}&lt;/h2&gt;
          </pre></code>
        </section>
      <section>
        <h2>Resources</h2>
        <ul style="font-size:36px">
          <li><a target="_blank" href="http://maptime.io/lessons-resources/">http://maptime.io/lessons-resources/</a></li>
          <li><a target="_blank" href="http://mapschool.io">mapschool.io</li>
          <li><a target="_blank" href="http://docs.cartodb.com/tutorials.html">docs.cartodb.com/tutorials.html</li>
          <li><a target="_blank" href="http://www.fulcrumapp.com/guides/crash-course/intro/">fulcrumapp.com/guides/crash-course/intro/</li>
          <li><a target="_blank" href="https://www.mapbox.com/guides/">mapbox.com/guides</li>
        </ul>
      </section>
    </div>
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script>
    Reveal.initialize({
      controls: true,
      progress: true,
      history: true,
      center: true,
      theme: Reveal.getQueryHash().theme || 'green',
      transition: Reveal.getQueryHash().transition || 'linear'
    });
    </script>
  </body>
</html>